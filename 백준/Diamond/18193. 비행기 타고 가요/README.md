# [Diamond III] 비행기 타고 가요 - 18193 

[문제 링크](https://www.acmicpc.net/problem/18193) 

### 성능 요약

메모리: 314640 KB, 시간: 1584 ms

### 분류

자료 구조, 데이크스트라, 그래프 이론, 세그먼트 트리, 최단 경로

### 제출 일자

2024년 7월 20일 23:05:10

### 문제 설명

<p>정보과학을 잘하는 사람만 거주할 수 있다는 국가, '경곽국'의 존재를 아는가? 경곽국은 총 <em>N</em>개의 도시로 이루어져 있으며, 각각 1번부터 <em>N</em>번까지 번호가 부여되어 있다.</p>

<p>경곽국에서 도시간의 이동수단은 비행기가 유일하다. 모든 도시쌍에 대하여 그 두 도시 사이를 경유하는 비행기가 존재한다. 다만, 비행기를 탑승하기 위해서는 '비행기 표'가 필요하다. 경곽국에서 구매할 수 있는 비행기 표는 총 <em>M</em>개가 있으며, 각각 1번부터 <em>M</em>번까지 번호가 부여되어 있다. <em>i</em>번 표는 가격이 <em>A<sub>i</sub></em>원이며, 비행기의 출발 도시의 번호가 <em>B<sub>i</sub></em> 이상 <em>C<sub>i</sub></em> 이하, 도착 도시의 번호가 <em>D<sub>i</sub></em> 이상 <em>E<sub>i</sub></em> 이하일 때에만 사용할 수 있다(1 ≤ <em>i</em> ≤ <em>M</em>).</p>

<p>모든 <em>M</em>개의 표는 일회용이며 한 번만 구매할 수 있다.</p>

<p>교준이의 집은 <em>K</em>번 도시에 있다. 현재 교준이는 집에서 놀고 있다.</p>

<p>교준이가 집을 나와 <em>X</em>번 도시로 가기 위해 구매해야 하는 표 값의 합의 최솟값을 <em>W<sub>X</sub></em>라 하자(1 ≤ <em>X</em> ≤ <em>N</em>). 단, 교준이는 집을 나오기 전에, 필요한 모든 비행기 표를 구매한다. 만일 어떻게 표를 사서 이동하더라도 <em>X</em>번 도시에 이동할 수 없다면, <em>W<sub>X</sub></em> = -1로 정의한다.</p>

<p><em>W</em><sub>1</sub>, ···, <em>W<sub>N</sub></em>의 값을 모두 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫 번째 줄에 경곽국의 도시의 개수를 의미하는 자연수 <em>N</em>, 비행기 표의 총 개수를 의미하는 자연수 <em>M</em>, 교준이의 집이 있는 도시의 번호 <em>K</em>가 사이에 공백을 두고 주어진다.</p>

<p>두번째 줄부터 <em>M</em>개의 줄에 걸쳐, <em>M</em>개의 비행기 표의 정보가 주어진다. (<em>i</em>+1)번째 줄에는 <em>i</em>번 표의 정보를 나타내는 다섯 개의 정수 <em>A<sub>i</sub></em>, <em>B<sub>i</sub></em>, <em>C<sub>i</sub></em>, <em>D<sub>i</sub></em>, <em>E<sub>i</sub></em>가 사이에 공백을 두고 주어진다(1 ≤ <em>i</em> ≤ <em>M</em>).</p>

### 출력 

 <p>첫 번째 줄에 <em>N</em>개의 정수 <em>W</em><sub>1</sub>, ···, <em>W<sub>N</sub></em>를 사이에 공백을 두고 차례대로 출력한다.</p>

<p><em>W<sub>K</sub></em> = 0임에 유의하라.</p>

