# [Diamond V] 금광 - 10167 

[문제 링크](https://www.acmicpc.net/problem/10167) 

### 성능 요약

메모리: 1840 KB, 시간: 1024 ms

### 분류

값 / 좌표 압축, 자료 구조, 세그먼트 트리, 스위핑

### 제출 일자

2024년 7월 20일 22:28:16

### 문제 설명

<p>황금의 땅이라는 별명을 가진 나라가 있다. 이 나라에는 개발 되지 않은 많은 금광들이 존재한다. 이 금광들을 지도상에 표시할 때, 평면상의 점들로 표현한다. </p>

<p style="text-align: center;"><img alt="" src="" style="width: 250px; height: 165px;"></p>

<p style="text-align: center;">그림-1</p>

<p>각 점 p<sub>i</sub>에는 양수 또는 음수의 정수 값 w<sub>i</sub>가 주어진다. 이 w<sub>i</sub>는 금광을 개발한다면 얻게 되는 이익 또는 손해를 나타낸다. w<sub>i</sub>가 양수이면, w<sub>i</sub>만큼의 이익이 발생함을 나타낸다. w<sub>i</sub>가 음수이면, |w<sub>i</sub>| 만큼의 손해가 발생함을 나타낸다. </p>

<p>금광 개발업자는 x축 또는 y축과 평행한 변들을 가진 직사각형 모양의 땅 R을 사서 R에 포함된 금광들을 모두 개발할 것이다. 이때 금광들을 개발하여 얻게 되는 개발 이익은 금광들의 w<sub>i</sub>들의 합이다. </p>

<p>개발업자는 R에 포함된 금광들의 개발 이익이 최대가 되는 직사각형 영역 R을 찾을 것이다. 예를 들어서, 위의 그림-1에서 개발 이익이 최대가 되는 영역 R은 그림-2에서 보여 지는 것과 같고 개발 이익은 7이다. </p>

<p>금광들의 좌표와 금광을 개발하면 얻게 되는 이익 또는 손해가 주어질 때, 직사각형 모양의 땅을 사서 얻게 되는 최대 개발 이익을 출력하는 프로그램을 작성하시오.</p>

<p style="text-align: center;"><img alt="" src="" style="width: 250px; height: 165px;"></p>

<p style="text-align: center;">그림-2</p>

### 입력 

 <p>첫 줄에는 금광들의 개수 N (1 ≤ N ≤ 3,000)이 주어진다. 이어지는 N개의 줄 각각에는 금광의 좌표 (x, y)를 나타내는 음이 아닌 두 정수 x와 y(0 ≤ x, y ≤ 10<sup>9</sup>), 그리고 금광을 개발하면 얻게 되는 이익 또는 손해를 나타내는 정수 w(-10<sup>9</sup> ≤ w ≤ 10<sup>9</sup>)가 주어진다. 금광의 좌표는 모두 서로 다르며 w > 0인 금광은 적어도 하나 존재한다.</p>

### 출력 

 <p>출력은 한 줄로 이루어진다. 금광 개발업자가 직사각형 모양의 땅 R을 사서 얻을 수 있는 최대 개발 이익을 출력한다. 계산 과정에서 32비트 정수 변수가 표현할 수 있는 범위를 넘어서 64비트 정수 변수(long long type)를 사용해야 할 수도 있음에 주의하라.</p>

